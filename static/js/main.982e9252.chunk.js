(this["webpackJsonpcorona-data"]=this["webpackJsonpcorona-data"]||[]).push([[0],{87:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(0),r=a(11),o=a.n(r),i=(a(87),a(29)),s=a(30),l=a.n(s),d=a(18),u=a(42),p=a(12),j=a(72),h=a(154),b="".concat("https://covid-19-tracking.p.rapidapi.com/v1").concat("?rapidapi-key=").concat("ac9eadc223mshe07074815823f0fp176a07jsn425000616066");function m(){return(m=Object(u.a)(l.a.mark((function e(t){var a,n,c,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,n=t.method,c=t.body,r=c?{body:JSON.stringify(c)||"",headers:{"Content-Type":"application/json"},method:n}:{method:n},e.next=4,fetch(a,r);case 4:return o=e.sent,e.abrupt("return",o.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x={getCoronaData:function(){return function(e){return m.apply(this,arguments)}({url:b,method:"GET"})}},f=function(e){if(e){var t=e.split(" "),a=t[0].split("-"),n="".concat(a[2],"/").concat(a[1],"/").concat(a[0]);return"".concat(t[1]," ").concat(n)}return e},g=a(70),O=16,C="#FFEEAA",v="#212121",w="#FF0000",S="#ffffff",k=Object(g.a)({border:{borderRadius:{base:"".concat(4,"px")}},cardWidth:"".concat(278,"px"),color:{cardBackgroundColor:"#F5F5F5",backgroundColor:"#ffffff",newCasesBackgroundColor:C,newCasesTextColor:v,newDeathBackgroundColor:w,newDeathTextColor:S,textColor:"#191919"},customSpacing:{xSmall:"".concat(6.015037593984962,"px"),small:"".concat(8,"px"),base:"".concat(O,"px"),large:"".concat(32,"px"),xLarge:"".concat(48,"px")},logoSize:"".concat(40,"px")}),y=Object(g.a)({palette:{type:"dark",background:{paper:"#212121"}},border:{borderRadius:{base:"".concat(4,"px")}},cardWidth:"".concat(278,"px"),color:{cardBackgroundColor:"#2d2d2d",backgroundColor:"#333333",newCasesBackgroundColor:C,newCasesTextColor:v,newDeathBackgroundColor:w,newDeathTextColor:S,textColor:"#ffffff"},customSpacing:{xSmall:"".concat(6.015037593984962,"px"),small:"".concat(8,"px"),base:"".concat(O,"px"),large:"".concat(32,"px"),xLarge:"".concat(48,"px")},logoSize:"".concat(40,"px")}),W=a(140),D=a(144),N=a(145),T=a(143),I=a(142),B=a(96),F=a.p+"static/media/corona-logo_260x260.0d91d905.png",z=[{checked:!0,name:"newCases",title:"New cases"},{checked:!1,name:"newDeaths",title:"New deaths"},{checked:!1,name:"activeCases",title:"Active cases"},{checked:!0,name:"updateDate",title:"Update time"}],E=z[0].name,A=z[1].name,L=(z[2].name,z[3].name,"darkMode"),R="filters",_="selectedCountries",J={src:F,title:"logo"},M="Data for selected country",H="Data for selected countries",U=a(138),q=Object(U.a)((function(e){return{header:{backgroundColor:e.color.backgroundColor,color:e.color.textColor},logoIconContainer:{display:"flex",justifyContent:"space-between",width:"100%"},logoTitleWrapper:{display:"flex",alignItems:"center"},logoWrapper:{display:"flex"},logo:{height:e.logoSize,width:e.logoSize},titleWrapper:{marginLeft:e.customSpacing.base},icon:{color:e.color.textColor}}}));var G=function(e){var t=e.darkMode,a=e.handleDarkMode,c=q();return Object(n.jsx)("div",{children:Object(n.jsx)(W.a,{className:c.header,position:"static",children:Object(n.jsx)(I.a,{children:Object(n.jsxs)("div",{className:c.logoIconContainer,children:[Object(n.jsxs)("div",{className:c.logoTitleWrapper,children:[Object(n.jsx)("div",{className:c.logoWrapper,children:Object(n.jsx)("img",{alt:J.title,className:c.logo,src:J.src})}),Object(n.jsx)("div",{className:c.titleWrapper,children:Object(n.jsx)(B.a,{variant:"h6",children:"Corona Data"})})]}),Object(n.jsx)("div",{children:t?Object(n.jsx)(T.a,{className:c.icon,onClick:a,children:Object(n.jsx)(D.a,{})}):Object(n.jsx)(T.a,{className:c.icon,onClick:a,children:Object(n.jsx)(N.a,{})})})]})})})})},K=function(e){try{var t=localStorage.getItem(e);if(null===t)return;return JSON.parse(t)}catch(a){return}},P=function(e,t){try{var a=JSON.stringify(t);localStorage.setItem(e,a)}catch(n){throw new Error("Can't save changes in local storage")}},Q=Object(U.a)({paper:{cursor:"default",minHeight:"100vh"}}),V=a(156),X=a(146),Y=a(157),Z=a(65),$=a.n(Z),ee=a(66),te=a.n(ee),ae=a(155),ne=Object(U.a)((function(e){return{dropdownContainer:{display:"flex",alignItems:"center",flexDirection:"column",marginTop:e.customSpacing.base,padding:"0 ".concat(e.customSpacing.small," ").concat(e.customSpacing.large)},dropdownTitleWrapper:{textAlign:"center"},dropdownWrapper:{display:"flex",justifyContent:"center",marginTop:e.customSpacing.base,width:"90%","@media only screen and (min-width: 600px)":{width:"60%"},"@media only screen and (min-width: 768px)":{width:"50%"},"@media only screen and (min-width: 992px)":{width:"40%"}},dropdown:{width:"100%"},buttonWrapper:{marginTop:e.customSpacing.base}}}));var ce=function(e){var t=e.countries,a=e.handleCountrySelect,c=e.handleShow,r=e.selectedCountries,o=ne(),s=Object(n.jsx)($.a,{fontSize:"small"}),l=Object(n.jsx)(te.a,{fontSize:"small"});return Object(n.jsxs)("div",{className:o.dropdownContainer,children:[Object(n.jsx)("div",{className:o.dropdownTitleWrapper,children:Object(n.jsx)(B.a,{variant:"h5",children:"Select at least one country"})}),Object(n.jsx)("div",{className:o.dropdownWrapper,children:Object(n.jsx)(V.a,{autoHighlight:!0,className:o.dropdown,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},multiple:!0,onChange:function(e,t){return a(t)},options:t,renderInput:function(e){return Object(n.jsx)(ae.a,Object(i.a)(Object(i.a)({},e),{},{label:"Countries",placeholder:"Favorites",variant:"outlined"}))},renderOption:function(e,t){var a=t.selected;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Y.a,{checked:a,checkedIcon:s,icon:l,style:{marginRight:8}}),e.name]})},value:r})}),Object(n.jsx)("div",{className:o.buttonWrapper,children:Object(n.jsx)(X.a,{color:"primary",disabled:!r.length,onClick:function(e){return c(e)},variant:"contained",children:"Save & Show"})})]})},re=a(147),oe=Object(U.a)({loaderContainer:{textAlign:"center",marginTop:"35vh",minHeight:200}});var ie=function(){var e=oe();return Object(n.jsx)("div",{className:e.loaderContainer,children:Object(n.jsx)(re.a,{size:60,thickness:4})})},se=a(69),le=a.n(se),de=a(151),ue=a(150),pe=a(152),je=a(153),he=a(148),be=a(149),me=Object(U.a)((function(e){return{cardContainer:{backgroundColor:e.color.cardBackgroundColor,margin:e.customSpacing.small,minWidth:e.cardWidth},caseWrapper:{display:"flex",alignItems:"center",marginLeft:e.customSpacing.base,marginTop:e.customSpacing.small},dataWrapper:{marginLeft:e.customSpacing.base},newCasesWrapper:{backgroundColor:e.color.newCasesBackgroundColor,borderRadius:e.border.borderRadius.base,color:e.color.newCasesTextColor,padding:"0 ".concat(e.customSpacing.xSmall)},deathDataWrapper:{backgroundColor:e.color.newDeathBackgroundColor,borderRadius:e.border.borderRadius.base,color:e.color.newDeathTextColor,padding:"0 ".concat(e.customSpacing.xSmall)}}}));var xe=function(e){var t=e.country,a=e.filterData,c=me();return Object(n.jsx)(he.a,{className:c.cardContainer,variant:"outlined",children:Object(n.jsxs)(be.a,{children:[Object(n.jsx)("div",{children:Object(n.jsx)(B.a,{variant:"h6",children:t.name})}),a.map((function(e){return e.checked?Object(n.jsxs)("div",{className:c.caseWrapper,children:[Object(n.jsx)("div",{children:Object(n.jsx)(B.a,{variant:"subtitle2",children:"".concat(e.title,":")})}),Object(n.jsx)("div",{className:"".concat(c.dataWrapper," ").concat(e.name===E?c.newCasesWrapper:""," ").concat(e.name===A?c.deathDataWrapper:""),children:Object(n.jsx)(B.a,{variant:"subtitle1",children:t[e.name]})})]},e.name):null}))]})})},fe=Object(U.a)((function(e){return{showDataContainer:{display:"flex",flexDirection:"column",marginTop:e.customSpacing.base,padding:"0 ".concat(e.customSpacing.small," ").concat(e.customSpacing.large)},showDataTitleWrapper:{textAlign:"center"},filtersIconWrapper:{display:"flex",justifyContent:"space-around",marginTop:e.customSpacing.base},dataWrapper:{display:"flex",justifyContent:"center",marginTop:e.customSpacing.base},cardWrapper:{display:"flex",flexFlow:"wrap",justifyContent:"space-around"}}}));var ge=function(e){var t=e.countriesToShow,a=e.filterData,c=e.handleCheckboxChange,r=e.handleShow,o=fe();return Object(n.jsxs)("div",{className:o.showDataContainer,children:[Object(n.jsx)("div",{className:o.showDataTitleWrapper,children:Object(n.jsx)(B.a,{variant:"h5",children:t.length>1?H:M})}),Object(n.jsxs)("div",{className:o.filtersIconWrapper,children:[Object(n.jsx)("div",{children:Object(n.jsx)(ue.a,{row:!0,children:a.map((function(e){return Object(n.jsx)(de.a,{control:Object(n.jsx)(Y.a,{checked:e.checked,onChange:function(){return c(e.name)},size:"small"}),label:e.title},e.name)}))})}),Object(n.jsx)("div",{children:Object(n.jsx)(pe.a,{title:"Edit countries",TransitionComponent:je.a,children:Object(n.jsx)(T.a,{onClick:r,children:Object(n.jsx)(le.a,{})})})})]}),Object(n.jsx)("div",{className:o.dataWrapper,children:Object(n.jsx)("div",{className:o.cardWrapper,children:t.map((function(e){return Object(n.jsx)(xe,{country:e,filterData:a},e.name)}))})})]})};var Oe=function(){var e=Q(),t=Object(c.useState)(K(L)||!1),a=Object(p.a)(t,2),r=a[0],o=a[1],s=r?y:k,b=Object(c.useState)([]),m=Object(p.a)(b,2),g=m[0],O=m[1],C=Object(c.useState)([]),v=Object(p.a)(C,2),w=v[0],S=v[1],W=Object(c.useState)([]),D=Object(p.a)(W,2),N=D[0],T=D[1],I=Object(c.useState)(!0),B=Object(p.a)(I,2),F=B[0],E=B[1],A=Object(c.useState)(!0),J=Object(p.a)(A,2),M=J[0],H=J[1],U=K(R),q=U?U.map((function(e,t){return e.title===z[t].title&&e.name===z[t].name?e:z[t]})):z,V=Object(c.useState)(q),X=Object(p.a)(V,2),Y=X[0],Z=X[1],$=Object(c.useState)([]),ee=Object(p.a)($,2),te=ee[0],ae=ee[1],ne=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.getCoronaData();case 3:return t=e.sent,e.next=6,t.slice(1,-1).map((function(e){return{name:e.Country_text}}));case 6:a=e.sent,n=Object(d.a)(a).sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),O(n),S(t),(c=K(_))&&c.length&&(ae(c),E(!F)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),H(!1);case 17:return e.prev=17,H(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){ne()}),[]),Object(c.useEffect)((function(){var e=te.map((function(e){return w.find((function(t){return t.Country_text===e.name}))})).map((function(e){return{activeCases:e["Active Cases_text"],name:e.Country_text,newCases:e["New Cases_text"],newDeaths:e["New Deaths_text"],updateDate:f(e["Last Update"])}}));T(e)}),[te]);var re=function(e){e.preventDefault(),E(!F)};return Object(n.jsx)(h.a,{theme:s,children:Object(n.jsxs)(j.a,{className:e.paper,square:!0,children:[Object(n.jsx)(G,{darkMode:r,handleDarkMode:function(){o(!r),P(L,!r)}}),M?Object(n.jsx)(ie,{}):Object(n.jsx)("div",{children:F?Object(n.jsx)(ce,{countries:g,handleCountrySelect:function(e){ae(e),P(_,e)},handleShow:re,selectedCountries:te}):Object(n.jsx)(ge,{countriesToShow:N,filterData:Y,handleCheckboxChange:function(e){var t=Y.map((function(t){return t.name===e?Object(i.a)(Object(i.a)({},t),{},{checked:!t.checked}):t}));Z(t),P(R,t)},handleShow:re})})]})})};o.a.render(Object(n.jsx)(Oe,{}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.982e9252.chunk.js.map