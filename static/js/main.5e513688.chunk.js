(this["webpackJsonpcorona-data"]=this["webpackJsonpcorona-data"]||[]).push([[0],{87:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(0),c=a(11),o=a.n(c),i=(a(87),a(16)),s=a(30),l=a.n(s),d=a(41),p=a(12),u=a(73),j=a(157),h="".concat("https://covid-19-tracking.p.rapidapi.com/v1").concat("?rapidapi-key=").concat("ac9eadc223mshe07074815823f0fp176a07jsn425000616066");function m(){return(m=Object(d.a)(l.a.mark((function e(t){var a,n,r,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,n=t.method,r=t.body,c=r?{body:JSON.stringify(r)||"",headers:{"Content-Type":"application/json"},method:n}:{method:n},e.next=4,fetch(a,c);case 4:return o=e.sent,e.abrupt("return",o.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b={getCoronaData:function(){return function(e){return m.apply(this,arguments)}({url:h,method:"GET"})}},f=a.p+"static/media/corona-logo_260x260.0d91d905.png",x=[{checked:!0,name:"newCases",title:"New cases"},{checked:!1,name:"newDeaths",title:"New deaths"},{checked:!1,name:"activeCases",title:"Active cases"},{checked:!0,name:"updateDate",title:"Last updated"}],g=x[0].name,O=x[1].name,C=(x[2].name,x[3].name),v="darkMode",y="options",w="selectedCountries",S={src:f,title:"logo"},k="N/A",W="Data for selected country",N="Data for selected countries",D=function(e){return Array.isArray(e)&&e.length>2?e.slice(1,-1).map((function(e){return{name:e.Country_text}})):e},T=a(71),A=Object(T.a)({border:{borderRadius:{base:"".concat(4,"px")}},cardWidth:"".concat(298,"px"),color:{backgroundColor:"#ffffff",cardBackgroundColor:"#F5F5F5",newCasesBackgroundColor:"#FFEEAA",newCasesTextColor:"#212121",newDeathBackgroundColor:"#FF0000",newDeathTextColor:"#ffffff",textColor:"#191919"},customSpacing:{small:"".concat(8,"px"),smaller:"".concat(12,"px"),base:"".concat(16,"px"),large:"".concat(32,"px"),xLarge:"".concat(48,"px")},logoSize:"".concat(40,"px"),optionHeight:"".concat(28,"px")}),I=Object(T.a)(Object(i.a)(Object(i.a)({},A),{},{palette:{type:"dark",background:{paper:"#212121"}},color:Object(i.a)(Object(i.a)({},A.color),{},{backgroundColor:"#333333",cardBackgroundColor:"#2d2d2d",textColor:"#ffffff"})})),B=a(159),F=a(144),z=a(160),E=a(65),_=a.n(E),H=a(67),R=a.n(H),J=a(158),L=a(96),M=a(141),q=Object(M.a)((function(e){return{dropdownContainer:{display:"flex",alignItems:"center",flexDirection:"column",marginTop:e.customSpacing.base,padding:"0 ".concat(e.customSpacing.small," ").concat(e.customSpacing.large)},dropdownTitleWrapper:{textAlign:"center"},dropdownWrapper:{display:"flex",justifyContent:"center",marginTop:e.customSpacing.base,width:"90%","@media only screen and (min-width: 600px)":{width:"60%"},"@media only screen and (min-width: 768px)":{width:"50%"},"@media only screen and (min-width: 992px)":{width:"40%"}},dropdown:{width:"100%"},buttonWrapper:{marginTop:e.customSpacing.base}}}));var G=function(e){var t=e.countries,a=e.handleCountrySelect,r=e.handleShow,c=e.selectedCountries,o=q(),s=Object(n.jsx)(_.a,{fontSize:"small"}),l=Object(n.jsx)(R.a,{fontSize:"small"});return Object(n.jsxs)("div",{className:o.dropdownContainer,children:[Object(n.jsx)("div",{className:o.dropdownTitleWrapper,children:Object(n.jsx)(L.a,{variant:"h5",children:"Select at least one country"})}),Object(n.jsx)("div",{className:o.dropdownWrapper,children:Object(n.jsx)(B.a,{autoHighlight:!0,className:o.dropdown,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},multiple:!0,onChange:function(e,t){return a(t)},options:t,renderInput:function(e){return Object(n.jsx)(J.a,Object(i.a)(Object(i.a)({},e),{},{label:"Countries",placeholder:"Favorites",variant:"outlined"}))},renderOption:function(e,t){var a=t.selected;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(z.a,{checked:a,checkedIcon:s,icon:l,style:{marginRight:8}}),e.name]})},value:c})}),Object(n.jsx)("div",{className:o.buttonWrapper,children:Object(n.jsx)(F.a,{color:"primary",disabled:!c.length,onClick:function(e){return r(e)},variant:"contained",children:"Save & Show"})})]})},U=a(145),K=a(147),P=a(148),Q=a(99),V=a(146),X=Object(M.a)((function(e){return{header:{backgroundColor:e.color.backgroundColor,color:e.color.textColor},logoIconContainer:{display:"flex",justifyContent:"space-between",width:"100%"},logoTitleWrapper:{display:"flex",alignItems:"center",padding:"0 ".concat(e.customSpacing.smaller)},logoWrapper:{display:"flex"},logo:{height:e.logoSize,width:e.logoSize},titleWrapper:{marginLeft:e.customSpacing.base},icon:{color:e.color.textColor}}}));var Y=function(e){var t=e.darkMode,a=e.handleDarkMode,r=X();return Object(n.jsx)("div",{children:Object(n.jsx)(U.a,{className:r.header,position:"static",children:Object(n.jsx)(V.a,{children:Object(n.jsxs)("div",{className:r.logoIconContainer,children:[Object(n.jsxs)("div",{className:r.logoTitleWrapper,children:[Object(n.jsx)("div",{className:r.logoWrapper,children:Object(n.jsx)("img",{alt:S.title,className:r.logo,src:S.src})}),Object(n.jsx)("div",{className:r.titleWrapper,children:Object(n.jsx)(L.a,{variant:"h6",children:"Corona Data"})})]}),Object(n.jsx)("div",{children:t?Object(n.jsx)(Q.a,{className:r.icon,onClick:a,children:Object(n.jsx)(K.a,{})}):Object(n.jsx)(Q.a,{className:r.icon,onClick:a,children:Object(n.jsx)(P.a,{})})})]})})})})},Z=a(149),$=Object(M.a)({loaderContainer:{textAlign:"center",marginTop:"35vh",minHeight:200}});var ee=function(){var e=$();return Object(n.jsx)("div",{className:e.loaderContainer,children:Object(n.jsx)(Z.a,{size:60,thickness:4})})},te=function(e){try{var t=localStorage.getItem(e);if(null===t)return;return JSON.parse(t)}catch(a){return}},ae=function(e,t){try{var a=JSON.stringify(t);localStorage.setItem(e,a)}catch(n){throw new Error("Can't save changes in local storage")}},ne=function(e){if(e){var t=e.split(" "),a=t[0].split("-"),n="".concat(a[2],"/").concat(a[1],"/").concat(a[0]);return"".concat(t[1]," ").concat(n)}return e},re=a(70),ce=a.n(re),oe=a(153),ie=a(152),se=a(154),le=a(155),de=a(156),pe=a(150),ue=a(151),je=function(e){return e?Number.isInteger(+e[e.length-1]):e},he=Object(M.a)((function(e){return{cardContainer:{backgroundColor:e.color.cardBackgroundColor,margin:e.customSpacing.small,minWidth:e.cardWidth},contentWrapper:{display:"flex",justifyContent:"center",marginTop:e.customSpacing.small,padding:"0 ".concat(e.customSpacing.base)},optionsWrapper:{display:"flex",flexDirection:"column",width:"50%"},dataWrapper:{display:"flex",flexDirection:"column",width:"50%"},optionItemWrapper:{display:"flex",alignItems:"center",height:e.optionHeight,marginBottom:e.customSpacing.small},dataItemWrapper:{display:"flex",alignItems:"center",justifyContent:"flex-end",height:e.optionHeight,marginBottom:e.customSpacing.small},newCasesWrapper:{display:"flex",justifyContent:"flex-end",backgroundColor:e.color.newCasesBackgroundColor,borderRadius:e.border.borderRadius.base,boxSizing:"border-box",color:e.color.newCasesTextColor,padding:"0 ".concat(e.customSpacing.small),width:"100%"},deathsDataWrapper:{display:"flex",justifyContent:"flex-end",backgroundColor:e.color.newDeathBackgroundColor,borderRadius:e.border.borderRadius.base,boxSizing:"border-box",color:e.color.newDeathTextColor,padding:"0 ".concat(e.customSpacing.small),width:"100%"}}}));var me=function(e){var t=e.countryData,a=e.options,r=he();return Object(n.jsx)(pe.a,{className:r.cardContainer,variant:"outlined",children:Object(n.jsxs)(ue.a,{children:[Object(n.jsx)("div",{children:Object(n.jsx)(L.a,{variant:"h6",children:t.name})}),Object(n.jsxs)("div",{className:r.contentWrapper,children:[Object(n.jsx)("div",{className:r.optionsWrapper,children:a.map((function(e){return e.checked?Object(n.jsx)("div",{className:r.optionItemWrapper,children:Object(n.jsx)(L.a,{variant:"subtitle2",children:"".concat(e.title,":")})},e.name):null}))}),Object(n.jsx)("div",{className:r.dataWrapper,children:a.map((function(e){return e.checked?Object(n.jsx)("div",{className:"".concat(r.dataItemWrapper," ").concat(e.name===g&&je(t[e.name])?r.newCasesWrapper:""," ").concat(e.name===O&&je(t[e.name])?r.deathsDataWrapper:""),children:Object(n.jsx)(L.a,{variant:"".concat(e.name===C?"subtitle2":"subtitle1"),children:t[e.name]})},e.name):null}))})]})]})})},be=Object(M.a)((function(e){return{showDataContainer:{display:"flex",flexDirection:"column",marginTop:e.customSpacing.base,padding:"0 ".concat(e.customSpacing.small," ").concat(e.customSpacing.large)},showDataTitleWrapper:{textAlign:"center"},filtersIconWrapper:{display:"flex",alignItems:"center",justifyContent:"space-around",marginTop:e.customSpacing.base,padding:"0 ".concat(e.customSpacing.small)},dataWrapper:{display:"flex",justifyContent:"center",marginTop:e.customSpacing.base},cardWrapper:{display:"flex",flexFlow:"wrap",justifyContent:"space-around"}}}));var fe=function(e){var t=e.countriesDataToShow,a=e.handleOptionChange,r=e.handleShow,c=e.options,o=be();return Object(n.jsxs)("div",{className:o.showDataContainer,children:[Object(n.jsx)("div",{className:o.showDataTitleWrapper,children:Object(n.jsx)(L.a,{variant:"h5",children:t.length>1?N:W})}),Object(n.jsxs)("div",{className:o.filtersIconWrapper,children:[Object(n.jsx)("div",{children:Object(n.jsx)(ie.a,{row:!0,children:c.map((function(e){return Object(n.jsx)(oe.a,{control:Object(n.jsx)(se.a,{checked:e.checked,onChange:function(){return a(e.name)},size:"small"}),label:e.title},e.name)}))})}),Object(n.jsx)("div",{children:Object(n.jsx)(le.a,{title:"Edit countries",TransitionComponent:de.a,children:Object(n.jsx)(Q.a,{onClick:r,children:Object(n.jsx)(ce.a,{})})})})]}),Object(n.jsx)("div",{className:o.dataWrapper,children:Object(n.jsx)("div",{className:o.cardWrapper,children:t.map((function(e){return Object(n.jsx)(me,{countryData:e,options:c},e.name)}))})})]})},xe=a(19),ge=function(e){return Array.isArray(e)&&e.length>1?Object(xe.a)(e).sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})):e},Oe=Object(M.a)({paper:{cursor:"default",minHeight:"100vh"}});var Ce=function(){var e,t=Oe(),a=Object(r.useState)(te(v)||!1),c=Object(p.a)(a,2),o=c[0],s=c[1],h=o?I:A,m=Object(r.useState)([]),f=Object(p.a)(m,2),g=f[0],O=f[1],C=Object(r.useState)([]),S=Object(p.a)(C,2),W=S[0],N=S[1],T=Object(r.useState)([]),B=Object(p.a)(T,2),F=B[0],z=B[1],E=Object(r.useState)(!0),_=Object(p.a)(E,2),H=_[0],R=_[1],J=Object(r.useState)(!0),L=Object(p.a)(J,2),M=L[0],q=L[1],U=te(y),K=(e=U,Array.isArray(e)&&e.length?e.map((function(e,t){return e.title===x[t].title&&e.name===x[t].name?e:x[t]})):x),P=Object(r.useState)(K),Q=Object(p.a)(P,2),V=Q[0],X=Q[1],Z=Object(r.useState)([]),$=Object(p.a)(Z,2),re=$[0],ce=$[1],oe=function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.getCoronaData();case 3:return t=e.sent,e.next=6,D(t);case 6:a=e.sent,n=ge(a),O(n),N(t),(r=te(w))&&r.length&&(ce(r),R(!H)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),q(!1);case 17:return e.prev=17,q(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){oe()}),[]),Object(r.useEffect)((function(){var e,t,a=function(e){return Array.isArray(e)&&e.length?e.map((function(e){return{activeCases:e["Active Cases_text"]||k,name:e.Country_text||k,newCases:e["New Cases_text"]||k,newDeaths:e["New Deaths_text"]||k,updateDate:ne(e["Last Update"])||k}})):e}((e=re,t=W,Array.isArray(e)&&Array.isArray(t)&&e.length&&t.length?e.map((function(e){return t.find((function(t){return t.Country_text===e.name}))})):[]));z(a)}),[re]);var ie=function(e){e.preventDefault(),R(!H)};return Object(n.jsx)(j.a,{theme:h,children:Object(n.jsxs)(u.a,{className:t.paper,square:!0,children:[Object(n.jsx)(Y,{darkMode:o,handleDarkMode:function(){s(!o),ae(v,!o)}}),M?Object(n.jsx)(ee,{}):Object(n.jsx)("div",{children:H?Object(n.jsx)(G,{countries:g,handleCountrySelect:function(e){ce(e),ae(w,e)},handleShow:ie,selectedCountries:re}):Object(n.jsx)(fe,{countriesDataToShow:F,handleOptionChange:function(e){var t=V.map((function(t){return t.name===e?Object(i.a)(Object(i.a)({},t),{},{checked:!t.checked}):t}));X(t),ae(y,t)},handleShow:ie,options:V})})]})})};o.a.render(Object(n.jsx)(Ce,{}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.5e513688.chunk.js.map