(this["webpackJsonpcorona-data"]=this["webpackJsonpcorona-data"]||[]).push([[0],{87:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(0),r=a(11),o=a.n(r),i=(a(87),a(16)),s=a(30),l=a.n(s),d=a(19),u=a(42),p=a(12),j=a(72),h=a(154),b="".concat("https://covid-19-tracking.p.rapidapi.com/v1").concat("?rapidapi-key=").concat("ac9eadc223mshe07074815823f0fp176a07jsn425000616066");function m(){return(m=Object(u.a)(l.a.mark((function e(t){var a,n,c,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,n=t.method,c=t.body,r=c?{body:JSON.stringify(c)||"",headers:{"Content-Type":"application/json"},method:n}:{method:n},e.next=4,fetch(a,r);case 4:return o=e.sent,e.abrupt("return",o.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f={getCoronaData:function(){return function(e){return m.apply(this,arguments)}({url:b,method:"GET"})}},x=function(e){if(e){var t=e.split(" "),a=t[0].split("-"),n="".concat(a[2],"/").concat(a[1],"/").concat(a[0]);return"".concat(t[1]," ").concat(n)}return e},O=a(70),g=Object(O.a)({border:{borderRadius:{base:"".concat(4,"px")}},cardWidth:"".concat(278,"px"),color:{backgroundColor:"#ffffff",cardBackgroundColor:"#F5F5F5",newCasesBackgroundColor:"#FFEEAA",newCasesTextColor:"#212121",newDeathBackgroundColor:"#FF0000",newDeathTextColor:"#ffffff",textColor:"#191919"},customSpacing:{xSmall:"".concat(16/2.66,"px"),small:"".concat(8,"px"),base:"".concat(16,"px"),large:"".concat(32,"px"),xLarge:"".concat(48,"px")},logoSize:"".concat(40,"px")}),C=Object(O.a)(Object(i.a)(Object(i.a)({},g),{},{palette:{type:"dark",background:{paper:"#212121"}},color:Object(i.a)(Object(i.a)({},g.color),{},{backgroundColor:"#333333",cardBackgroundColor:"#2d2d2d",textColor:"#ffffff"})})),v=a(140),w=a(144),S=a(145),k=a(143),y=a(142),W=a(96),N=a.p+"static/media/corona-logo_260x260.0d91d905.png",D=[{checked:!0,name:"newCases",title:"New cases"},{checked:!1,name:"newDeaths",title:"New deaths"},{checked:!1,name:"activeCases",title:"Active cases"},{checked:!0,name:"updateDate",title:"Update time"}],T=D[0].name,I=D[1].name,F=(D[2].name,D[3].name,"darkMode"),B="filters",E="selectedCountries",z={src:N,title:"logo"},A="Data for selected country",_="Data for selected countries",L=a(138),R=Object(L.a)((function(e){return{header:{backgroundColor:e.color.backgroundColor,color:e.color.textColor},logoIconContainer:{display:"flex",justifyContent:"space-between",width:"100%"},logoTitleWrapper:{display:"flex",alignItems:"center"},logoWrapper:{display:"flex"},logo:{height:e.logoSize,width:e.logoSize},titleWrapper:{marginLeft:e.customSpacing.base},icon:{color:e.color.textColor}}}));var J=function(e){var t=e.darkMode,a=e.handleDarkMode,c=R();return Object(n.jsx)("div",{children:Object(n.jsx)(v.a,{className:c.header,position:"static",children:Object(n.jsx)(y.a,{children:Object(n.jsxs)("div",{className:c.logoIconContainer,children:[Object(n.jsxs)("div",{className:c.logoTitleWrapper,children:[Object(n.jsx)("div",{className:c.logoWrapper,children:Object(n.jsx)("img",{alt:z.title,className:c.logo,src:z.src})}),Object(n.jsx)("div",{className:c.titleWrapper,children:Object(n.jsx)(W.a,{variant:"h6",children:"Corona Data"})})]}),Object(n.jsx)("div",{children:t?Object(n.jsx)(k.a,{className:c.icon,onClick:a,children:Object(n.jsx)(w.a,{})}):Object(n.jsx)(k.a,{className:c.icon,onClick:a,children:Object(n.jsx)(S.a,{})})})]})})})})},M=function(e){try{var t=localStorage.getItem(e);if(null===t)return;return JSON.parse(t)}catch(a){return}},H=function(e,t){try{var a=JSON.stringify(t);localStorage.setItem(e,a)}catch(n){throw new Error("Can't save changes in local storage")}},U=Object(L.a)({paper:{cursor:"default",minHeight:"100vh"}}),q=a(156),G=a(146),K=a(157),P=a(65),Q=a.n(P),V=a(66),X=a.n(V),Y=a(155),Z=Object(L.a)((function(e){return{dropdownContainer:{display:"flex",alignItems:"center",flexDirection:"column",marginTop:e.customSpacing.base,padding:"0 ".concat(e.customSpacing.small," ").concat(e.customSpacing.large)},dropdownTitleWrapper:{textAlign:"center"},dropdownWrapper:{display:"flex",justifyContent:"center",marginTop:e.customSpacing.base,width:"90%","@media only screen and (min-width: 600px)":{width:"60%"},"@media only screen and (min-width: 768px)":{width:"50%"},"@media only screen and (min-width: 992px)":{width:"40%"}},dropdown:{width:"100%"},buttonWrapper:{marginTop:e.customSpacing.base}}}));var $=function(e){var t=e.countries,a=e.handleCountrySelect,c=e.handleShow,r=e.selectedCountries,o=Z(),s=Object(n.jsx)(Q.a,{fontSize:"small"}),l=Object(n.jsx)(X.a,{fontSize:"small"});return Object(n.jsxs)("div",{className:o.dropdownContainer,children:[Object(n.jsx)("div",{className:o.dropdownTitleWrapper,children:Object(n.jsx)(W.a,{variant:"h5",children:"Select at least one country"})}),Object(n.jsx)("div",{className:o.dropdownWrapper,children:Object(n.jsx)(q.a,{autoHighlight:!0,className:o.dropdown,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},multiple:!0,onChange:function(e,t){return a(t)},options:t,renderInput:function(e){return Object(n.jsx)(Y.a,Object(i.a)(Object(i.a)({},e),{},{label:"Countries",placeholder:"Favorites",variant:"outlined"}))},renderOption:function(e,t){var a=t.selected;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(K.a,{checked:a,checkedIcon:s,icon:l,style:{marginRight:8}}),e.name]})},value:r})}),Object(n.jsx)("div",{className:o.buttonWrapper,children:Object(n.jsx)(G.a,{color:"primary",disabled:!r.length,onClick:function(e){return c(e)},variant:"contained",children:"Save & Show"})})]})},ee=a(147),te=Object(L.a)({loaderContainer:{textAlign:"center",marginTop:"35vh",minHeight:200}});var ae=function(){var e=te();return Object(n.jsx)("div",{className:e.loaderContainer,children:Object(n.jsx)(ee.a,{size:60,thickness:4})})},ne=a(69),ce=a.n(ne),re=a(151),oe=a(150),ie=a(152),se=a(153),le=a(148),de=a(149),ue=Object(L.a)((function(e){return{cardContainer:{backgroundColor:e.color.cardBackgroundColor,margin:e.customSpacing.small,minWidth:e.cardWidth},caseWrapper:{display:"flex",alignItems:"center",marginLeft:e.customSpacing.base,marginTop:e.customSpacing.small},dataWrapper:{marginLeft:e.customSpacing.base},newCasesWrapper:{backgroundColor:e.color.newCasesBackgroundColor,borderRadius:e.border.borderRadius.base,color:e.color.newCasesTextColor,padding:"0 ".concat(e.customSpacing.xSmall)},deathDataWrapper:{backgroundColor:e.color.newDeathBackgroundColor,borderRadius:e.border.borderRadius.base,color:e.color.newDeathTextColor,padding:"0 ".concat(e.customSpacing.xSmall)}}}));var pe=function(e){var t=e.country,a=e.filterData,c=ue();return Object(n.jsx)(le.a,{className:c.cardContainer,variant:"outlined",children:Object(n.jsxs)(de.a,{children:[Object(n.jsx)("div",{children:Object(n.jsx)(W.a,{variant:"h6",children:t.name})}),a.map((function(e){return e.checked?Object(n.jsxs)("div",{className:c.caseWrapper,children:[Object(n.jsx)("div",{children:Object(n.jsx)(W.a,{variant:"subtitle2",children:"".concat(e.title,":")})}),Object(n.jsx)("div",{className:"".concat(c.dataWrapper," ").concat(e.name===T?c.newCasesWrapper:""," ").concat(e.name===I?c.deathDataWrapper:""),children:Object(n.jsx)(W.a,{variant:"subtitle1",children:t[e.name]})})]},e.name):null}))]})})},je=Object(L.a)((function(e){return{showDataContainer:{display:"flex",flexDirection:"column",marginTop:e.customSpacing.base,padding:"0 ".concat(e.customSpacing.small," ").concat(e.customSpacing.large)},showDataTitleWrapper:{textAlign:"center"},filtersIconWrapper:{display:"flex",justifyContent:"space-around",marginTop:e.customSpacing.base},dataWrapper:{display:"flex",justifyContent:"center",marginTop:e.customSpacing.base},cardWrapper:{display:"flex",flexFlow:"wrap",justifyContent:"space-around"}}}));var he=function(e){var t=e.countriesToShow,a=e.filterData,c=e.handleCheckboxChange,r=e.handleShow,o=je();return Object(n.jsxs)("div",{className:o.showDataContainer,children:[Object(n.jsx)("div",{className:o.showDataTitleWrapper,children:Object(n.jsx)(W.a,{variant:"h5",children:t.length>1?_:A})}),Object(n.jsxs)("div",{className:o.filtersIconWrapper,children:[Object(n.jsx)("div",{children:Object(n.jsx)(oe.a,{row:!0,children:a.map((function(e){return Object(n.jsx)(re.a,{control:Object(n.jsx)(K.a,{checked:e.checked,onChange:function(){return c(e.name)},size:"small"}),label:e.title},e.name)}))})}),Object(n.jsx)("div",{children:Object(n.jsx)(ie.a,{title:"Edit countries",TransitionComponent:se.a,children:Object(n.jsx)(k.a,{onClick:r,children:Object(n.jsx)(ce.a,{})})})})]}),Object(n.jsx)("div",{className:o.dataWrapper,children:Object(n.jsx)("div",{className:o.cardWrapper,children:t.map((function(e){return Object(n.jsx)(pe,{country:e,filterData:a},e.name)}))})})]})};var be=function(){var e=U(),t=Object(c.useState)(M(F)||!1),a=Object(p.a)(t,2),r=a[0],o=a[1],s=r?C:g,b=Object(c.useState)([]),m=Object(p.a)(b,2),O=m[0],v=m[1],w=Object(c.useState)([]),S=Object(p.a)(w,2),k=S[0],y=S[1],W=Object(c.useState)([]),N=Object(p.a)(W,2),T=N[0],I=N[1],z=Object(c.useState)(!0),A=Object(p.a)(z,2),_=A[0],L=A[1],R=Object(c.useState)(!0),q=Object(p.a)(R,2),G=q[0],K=q[1],P=M(B),Q=P?P.map((function(e,t){return e.title===D[t].title&&e.name===D[t].name?e:D[t]})):D,V=Object(c.useState)(Q),X=Object(p.a)(V,2),Y=X[0],Z=X[1],ee=Object(c.useState)([]),te=Object(p.a)(ee,2),ne=te[0],ce=te[1],re=function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.getCoronaData();case 3:return t=e.sent,e.next=6,t.slice(1,-1).map((function(e){return{name:e.Country_text}}));case 6:a=e.sent,n=Object(d.a)(a).sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),v(n),y(t),(c=M(E))&&c.length&&(ce(c),L(!_)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),K(!1);case 17:return e.prev=17,K(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){re()}),[]),Object(c.useEffect)((function(){var e=ne.map((function(e){return k.find((function(t){return t.Country_text===e.name}))})).map((function(e){return{activeCases:e["Active Cases_text"],name:e.Country_text,newCases:e["New Cases_text"],newDeaths:e["New Deaths_text"],updateDate:x(e["Last Update"])}}));I(e)}),[ne]);var oe=function(e){e.preventDefault(),L(!_)};return Object(n.jsx)(h.a,{theme:s,children:Object(n.jsxs)(j.a,{className:e.paper,square:!0,children:[Object(n.jsx)(J,{darkMode:r,handleDarkMode:function(){o(!r),H(F,!r)}}),G?Object(n.jsx)(ae,{}):Object(n.jsx)("div",{children:_?Object(n.jsx)($,{countries:O,handleCountrySelect:function(e){ce(e),H(E,e)},handleShow:oe,selectedCountries:ne}):Object(n.jsx)(he,{countriesToShow:T,filterData:Y,handleCheckboxChange:function(e){var t=Y.map((function(t){return t.name===e?Object(i.a)(Object(i.a)({},t),{},{checked:!t.checked}):t}));Z(t),H(B,t)},handleShow:oe})})]})})};o.a.render(Object(n.jsx)(be,{}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.b2a73669.chunk.js.map