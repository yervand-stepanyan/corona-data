(this["webpackJsonpcorona-data"]=this["webpackJsonpcorona-data"]||[]).push([[0],{87:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(0),c=a(11),o=a.n(c),i=(a(87),a(16)),s=a(30),l=a.n(s),d=a(41),p=a(12),u=a(73),j=a(157),h="".concat("https://covid-19-tracking.p.rapidapi.com/v1").concat("?rapidapi-key=").concat("ac9eadc223mshe07074815823f0fp176a07jsn425000616066");function m(){return(m=Object(d.a)(l.a.mark((function e(t){var a,n,r,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,n=t.method,r=t.body,c=r?{body:JSON.stringify(r)||"",headers:{"Content-Type":"application/json"},method:n}:{method:n},e.next=4,fetch(a,c);case 4:return o=e.sent,e.abrupt("return",o.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b={getCoronaData:function(){return function(e){return m.apply(this,arguments)}({url:h,method:"GET"})}},f=a.p+"static/media/corona-logo_260x260.0d91d905.png",g=[{checked:!0,name:"newCases",title:"New cases"},{checked:!1,name:"newDeaths",title:"New deaths"},{checked:!1,name:"activeCases",title:"Active cases"},{checked:!0,name:"updateDate",title:"Last updated"}],x=g[0].name,O=g[1].name,v=(g[2].name,g[3].name),C="darkMode",y="filters",w="options",S="selectedCountries",k={src:f,title:"logo"},W="N/A",N="Data for selected country",D="Data for selected countries",T=function(e){return Array.isArray(e)&&e.length>2?e.slice(1,-1).map((function(e){return{name:e.Country_text}})):e},A=a(71),I=Object(A.a)({border:{borderRadius:{base:"".concat(4,"px")}},cardWidth:"".concat(298,"px"),color:{backgroundColor:"#ffffff",cardBackgroundColor:"#F5F5F5",newCasesBackgroundColor:"#FFEEAA",newCasesTextColor:"#212121",newDeathBackgroundColor:"#FF0000",newDeathTextColor:"#ffffff",textColor:"#191919"},customSpacing:{small:"".concat(8,"px"),smaller:"".concat(12,"px"),base:"".concat(16,"px"),large:"".concat(32,"px"),xLarge:"".concat(48,"px")},logoSize:"".concat(40,"px"),optionHeight:"".concat(28,"px")}),B=Object(A.a)(Object(i.a)(Object(i.a)({},I),{},{palette:{type:"dark",background:{paper:"#212121"}},color:Object(i.a)(Object(i.a)({},I.color),{},{backgroundColor:"#333333",cardBackgroundColor:"#2d2d2d",textColor:"#ffffff"})})),F=a(159),z=a(144),E=a(160),_=a(65),H=a.n(_),R=a(67),J=a.n(R),L=a(158),M=a(96),q=a(141),G=Object(q.a)((function(e){return{dropdownContainer:{display:"flex",alignItems:"center",flexDirection:"column",marginTop:e.customSpacing.base,padding:"0 ".concat(e.customSpacing.small," ").concat(e.customSpacing.large)},dropdownTitleWrapper:{textAlign:"center"},dropdownWrapper:{display:"flex",justifyContent:"center",marginTop:e.customSpacing.base,width:"90%","@media only screen and (min-width: 600px)":{width:"60%"},"@media only screen and (min-width: 768px)":{width:"50%"},"@media only screen and (min-width: 992px)":{width:"40%"}},dropdown:{width:"100%"},buttonWrapper:{marginTop:e.customSpacing.base}}}));var U=function(e){var t=e.countries,a=e.handleCountrySelect,r=e.handleShow,c=e.selectedCountries,o=G(),s=Object(n.jsx)(H.a,{fontSize:"small"}),l=Object(n.jsx)(J.a,{fontSize:"small"});return Object(n.jsxs)("div",{className:o.dropdownContainer,children:[Object(n.jsx)("div",{className:o.dropdownTitleWrapper,children:Object(n.jsx)(M.a,{variant:"h5",children:"Select at least one country"})}),Object(n.jsx)("div",{className:o.dropdownWrapper,children:Object(n.jsx)(F.a,{autoHighlight:!0,className:o.dropdown,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},multiple:!0,onChange:function(e,t){return a(t)},options:t,renderInput:function(e){return Object(n.jsx)(L.a,Object(i.a)(Object(i.a)({},e),{},{label:"Countries",placeholder:"Favorites",variant:"outlined"}))},renderOption:function(e,t){var a=t.selected;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(E.a,{checked:a,checkedIcon:s,icon:l,style:{marginRight:8}}),e.name]})},value:c})}),Object(n.jsx)("div",{className:o.buttonWrapper,children:Object(n.jsx)(z.a,{color:"primary",disabled:!c.length,onClick:function(e){return r(e)},variant:"contained",children:"Save & Show"})})]})},K=a(145),P=a(147),Q=a(148),V=a(99),X=a(146),Y=Object(q.a)((function(e){return{header:{backgroundColor:e.color.backgroundColor,color:e.color.textColor},logoIconContainer:{display:"flex",justifyContent:"space-between",width:"100%"},logoTitleWrapper:{display:"flex",alignItems:"center",padding:"0 ".concat(e.customSpacing.smaller)},logoWrapper:{display:"flex"},logo:{height:e.logoSize,width:e.logoSize},titleWrapper:{marginLeft:e.customSpacing.base},icon:{color:e.color.textColor}}}));var Z=function(e){var t=e.darkMode,a=e.handleDarkMode,r=Y();return Object(n.jsx)("div",{children:Object(n.jsx)(K.a,{className:r.header,position:"static",children:Object(n.jsx)(X.a,{children:Object(n.jsxs)("div",{className:r.logoIconContainer,children:[Object(n.jsxs)("div",{className:r.logoTitleWrapper,children:[Object(n.jsx)("div",{className:r.logoWrapper,children:Object(n.jsx)("img",{alt:k.title,className:r.logo,src:k.src})}),Object(n.jsx)("div",{className:r.titleWrapper,children:Object(n.jsx)(M.a,{variant:"h6",children:"Corona Data"})})]}),Object(n.jsx)("div",{children:t?Object(n.jsx)(V.a,{className:r.icon,onClick:a,children:Object(n.jsx)(P.a,{})}):Object(n.jsx)(V.a,{className:r.icon,onClick:a,children:Object(n.jsx)(Q.a,{})})})]})})})})},$=a(149),ee=Object(q.a)({loaderContainer:{textAlign:"center",marginTop:"35vh",minHeight:200}});var te=function(){var e=ee();return Object(n.jsx)("div",{className:e.loaderContainer,children:Object(n.jsx)($.a,{size:60,thickness:4})})},ae=function(e){try{var t=localStorage.getItem(e);if(null===t)return;return JSON.parse(t)}catch(a){return}},ne=function(e,t){try{var a=JSON.stringify(t);localStorage.setItem(e,a)}catch(n){throw new Error("Can't save changes in local storage")}},re=function(e){if(e){var t=e.split(" "),a=t[0].split("-"),n="".concat(a[2],"/").concat(a[1],"/").concat(a[0]);return"".concat(t[1]," ").concat(n)}return e},ce=a(70),oe=a.n(ce),ie=a(153),se=a(152),le=a(154),de=a(155),pe=a(156),ue=a(150),je=a(151),he=function(e){return e?Number.isInteger(+e[e.length-1]):e},me=Object(q.a)((function(e){return{cardContainer:{backgroundColor:e.color.cardBackgroundColor,margin:e.customSpacing.small,minWidth:e.cardWidth},contentWrapper:{display:"flex",justifyContent:"center",marginTop:e.customSpacing.small,padding:"0 ".concat(e.customSpacing.base)},optionsWrapper:{display:"flex",flexDirection:"column",width:"50%"},dataWrapper:{display:"flex",flexDirection:"column",width:"50%"},optionItemWrapper:{display:"flex",alignItems:"center",height:e.optionHeight,marginBottom:e.customSpacing.small},dataItemWrapper:{display:"flex",alignItems:"center",justifyContent:"flex-end",height:e.optionHeight,marginBottom:e.customSpacing.small},newCasesWrapper:{display:"flex",justifyContent:"flex-end",backgroundColor:e.color.newCasesBackgroundColor,borderRadius:e.border.borderRadius.base,boxSizing:"border-box",color:e.color.newCasesTextColor,padding:"0 ".concat(e.customSpacing.small),width:"100%"},deathsDataWrapper:{display:"flex",justifyContent:"flex-end",backgroundColor:e.color.newDeathBackgroundColor,borderRadius:e.border.borderRadius.base,boxSizing:"border-box",color:e.color.newDeathTextColor,padding:"0 ".concat(e.customSpacing.small),width:"100%"}}}));var be=function(e){var t=e.countryData,a=e.options,r=me();return Object(n.jsx)(ue.a,{className:r.cardContainer,variant:"outlined",children:Object(n.jsxs)(je.a,{children:[Object(n.jsx)("div",{children:Object(n.jsx)("div",{children:Object(n.jsx)(M.a,{variant:"h6",children:t.name})})}),Object(n.jsxs)("div",{className:r.contentWrapper,children:[Object(n.jsx)("div",{className:r.optionsWrapper,children:a.map((function(e){return e.checked?Object(n.jsx)("div",{className:r.optionItemWrapper,children:Object(n.jsx)(M.a,{variant:"subtitle2",children:"".concat(e.title,":")})},e.name):null}))}),Object(n.jsx)("div",{className:r.dataWrapper,children:a.map((function(e){return e.checked?Object(n.jsx)("div",{className:"".concat(r.dataItemWrapper," ").concat(e.name===x&&he(t[e.name])?r.newCasesWrapper:""," ").concat(e.name===O&&he(t[e.name])?r.deathsDataWrapper:""),children:Object(n.jsx)(M.a,{variant:"".concat(e.name===v?"subtitle2":"subtitle1"),children:t[e.name]})},e.name):null}))})]})]})})},fe=Object(q.a)((function(e){return{showDataContainer:{display:"flex",flexDirection:"column",marginTop:e.customSpacing.base,padding:"0 ".concat(e.customSpacing.small," ").concat(e.customSpacing.large)},showDataTitleWrapper:{textAlign:"center"},filtersIconWrapper:{display:"flex",alignItems:"center",justifyContent:"space-around",marginTop:e.customSpacing.base,padding:"0 ".concat(e.customSpacing.small)},dataWrapper:{display:"flex",justifyContent:"center",marginTop:e.customSpacing.base},cardWrapper:{display:"flex",flexFlow:"wrap",justifyContent:"space-around"}}}));var ge=function(e){var t=e.countriesDataToShow,a=e.handleOptionChange,r=e.handleShow,c=e.options,o=fe();return Object(n.jsxs)("div",{className:o.showDataContainer,children:[Object(n.jsx)("div",{className:o.showDataTitleWrapper,children:Object(n.jsx)(M.a,{variant:"h5",children:t.length>1?D:N})}),Object(n.jsxs)("div",{className:o.filtersIconWrapper,children:[Object(n.jsx)("div",{children:Object(n.jsx)(se.a,{row:!0,children:c.map((function(e){return Object(n.jsx)(ie.a,{control:Object(n.jsx)(le.a,{checked:e.checked,onChange:function(){return a(e.name)},size:"small"}),label:e.title},e.name)}))})}),Object(n.jsx)("div",{children:Object(n.jsx)(de.a,{title:"Edit countries",TransitionComponent:pe.a,children:Object(n.jsx)(V.a,{onClick:r,children:Object(n.jsx)(oe.a,{})})})})]}),Object(n.jsx)("div",{className:o.dataWrapper,children:Object(n.jsx)("div",{className:o.cardWrapper,children:t.map((function(e){return Object(n.jsx)(be,{countryData:e,options:c},e.name)}))})})]})},xe=a(19),Oe=function(e){return Array.isArray(e)&&e.length>1?Object(xe.a)(e).sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})):e},ve=Object(q.a)({paper:{cursor:"default",minHeight:"100vh"}});var Ce=function(){var e=ve();!function(e,t){if(e&&t&&"string"===typeof e&&"string"===typeof t){var a=ae(e);return!!a&&(ne(t,a),localStorage.removeItem(e),!0)}}(y,w);var t,a=Object(r.useState)(ae(C)||!1),c=Object(p.a)(a,2),o=c[0],s=c[1],h=o?B:I,m=Object(r.useState)([]),f=Object(p.a)(m,2),x=f[0],O=f[1],v=Object(r.useState)([]),k=Object(p.a)(v,2),N=k[0],D=k[1],A=Object(r.useState)([]),F=Object(p.a)(A,2),z=F[0],E=F[1],_=Object(r.useState)(!0),H=Object(p.a)(_,2),R=H[0],J=H[1],L=Object(r.useState)(!0),M=Object(p.a)(L,2),q=M[0],G=M[1],K=ae(w),P=(t=K,Array.isArray(t)&&t.length?t.map((function(e,t){return e.title===g[t].title&&e.name===g[t].name?e:g[t]})):g),Q=Object(r.useState)(P),V=Object(p.a)(Q,2),X=V[0],Y=V[1],$=Object(r.useState)([]),ee=Object(p.a)($,2),ce=ee[0],oe=ee[1],ie=function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.getCoronaData();case 3:return t=e.sent,e.next=6,T(t);case 6:a=e.sent,n=Oe(a),O(n),D(t),(r=ae(S))&&r.length&&(oe(r),J(!1),Y(P)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),G(!1);case 17:return e.prev=17,G(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){ie()}),[]),Object(r.useEffect)((function(){var e,t,a=function(e){return Array.isArray(e)&&e.length?e.map((function(e){return{activeCases:e["Active Cases_text"]||W,name:e.Country_text||W,newCases:e["New Cases_text"]||W,newDeaths:e["New Deaths_text"]||W,updateDate:re(e["Last Update"])||W}})):e}((e=ce,t=N,Array.isArray(e)&&Array.isArray(t)&&e.length&&t.length?e.map((function(e){return t.find((function(t){return t.Country_text===e.name}))})):[]));E(a)}),[ce]);var se=function(e){e.preventDefault(),J(!R)};return Object(n.jsx)(j.a,{theme:h,children:Object(n.jsxs)(u.a,{className:e.paper,square:!0,children:[Object(n.jsx)(Z,{darkMode:o,handleDarkMode:function(){s(!o),ne(C,!o)}}),q?Object(n.jsx)(te,{}):Object(n.jsx)("div",{children:R?Object(n.jsx)(U,{countries:x,handleCountrySelect:function(e){oe(e),ne(S,e)},handleShow:se,selectedCountries:ce}):Object(n.jsx)(ge,{countriesDataToShow:z,handleOptionChange:function(e){var t=X.map((function(t){return t.name===e?Object(i.a)(Object(i.a)({},t),{},{checked:!t.checked}):t}));Y(t),ne(w,t)},handleShow:se,options:X})})]})})};o.a.render(Object(n.jsx)(Ce,{}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.6cc6eb58.chunk.js.map